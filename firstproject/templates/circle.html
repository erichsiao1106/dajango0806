<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>第四組展示用AIOT</title>
    {% load static %}
    <!-- <link href="{% static " css/style.css" %}" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="style.css" rel="stylesheet" type="text/css" /> -->
    <!-- <script src="　{% static " javascript/draw.js" %}"></script> -->
    <!-- <script type="text/javascript">
         function draw() {
                var canvas = document.getElementById("canvas");
                if (canvas.getContext) {
                    var ctx = canvas.getContext("2d");

                    ctx.fillStyle = "rgb(200,0,0)";
                    ctx.fillRect(10, 10, 55, 50);

                    ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
                    ctx.fillRect(10, 30, 55, 50);
                }
            }
    </script> -->
    
    <!-- <script src="{% static " javascript/new.js"%}"> </script> -->
    <script type="text/javascript">
             function draw() {
                    var cvs = document.getElementById('cvs');
                    var ctx = cvs.getContext('2d');

                    var infoData = [
                     { name: '李秉鴻', value: 245 },
                     { name: '周凡剛', value: 512 },
                     { name: '蘇老師', value: 215 },
                     { name: '至昂', value: 185 },
                     { name: '不知道', value: 158 }
                 ];
                 var x = 200,
                     y = 150,
                     r = 100,
                     begin_deg = -90 * Math.PI / 180,
                     color = ['green', 'yellow', 'brown', 'tan', 'red', 'green', 'blue', 'pink'],
                     total = 0;

                     for (var i = 0; i < infoData.length; i++) {
                     total += parseInt(infoData[i].value);
                 }
                 for (var i = 0; i < infoData.length; i++) {
                     var value_deg = infoData[i].value / total * 360 * Math.PI / 180;
                     // 取得 value 的角度
                     var end_deg = begin_deg + value_deg;
                     // value結束角度 = value起始角度 + value角度

                     // 畫出每個物件的範圍、填色
                     ctx.beginPath();
                     ctx.moveTo(x, y);
                     ctx.arc(x, y, r, begin_deg, end_deg);
                     ctx.fillStyle = color[i];
                     ctx.fill();

                     // 取得物件角度中間值並列出每個物件的名字、數量
                     var text_deg = begin_deg + value_deg * 0.5;
                     var text_X = x + (r + 10) * Math.cos(text_deg);
                     var text_Y = y + (r + 10) * Math.sin(text_deg);

                     // 為了讓文字在圓外就必需設定在圖 左(右) 邊時文字要靠 右(左)
                     if ((text_deg > 90 * Math.PI / 180) && (text_deg < 270 * Math.PI / 180)) {
                         ctx.textAlign = 'end';
                     }

                     // 填入文字
                     ctx.font = '14px Arial';
                     ctx.fillStyle = "#333";
                     var text = infoData[i].name + infoData[i].value + '小時';

                     ctx.fillText(text, text_X, text_Y);
                     begin_deg = end_deg;
                 }
                //  for (var i = 0; i < infoData.length; i++) {
                //      ctx.beginPath();
                //      ctx.fillStyle = color[i];
                //      ctx.fillRect(12, 12 + 14 * i, 10, 10);

                //      ctx.font = '12px Arial';
                //      ctx.fillStyle = '#333';
                //      ctx.textAlign = 'start';
                //      ctx.fillText(infoData[i].name + ' ' + infoData[i].value, 25, 20 + 14 * i);
                //  }
                }
        </script>

<!-- <script type="text/javascript" src="{% static " javascript/draw.js"%}"> </script> -->

<link href="{% static " css/style.css" %}" rel="stylesheet" type="text/css" />




</head>
<body onload="draw();">
<!-- <body > -->
    <!-- <canvas id="canvas"></canvas> -->
    <h1> 第四組AIOT 人流分析系統 網站 </h1>

    <img src="{% static " images/1.png" %}" alt="歡迎光" width="32" height="32" />

    <form method='post' action="/djpost">
        {% csrf_token %}
        <p>帳號：<input type='text' name='username' /></p>
        <p>密碼：<input type='text' name='password' /></p>
        <p><button type='submit'>確定</button></p>
    </form>
    
    <h2> 現在時刻： {{now}} </h2>
    <script src="{% static "javascript/n.js"%}"></script>
    <!-- <script src="javascript/n.js"></script> -->
    <!-- <canvas id="canvas" width="400" height="300"></canvas> -->
    <!-- <canvas id="canvas" width="100" height="100"></canvas> -->




    <canvas id="cvs" width="400" height="300"></canvas>

 

	<h3> 前端呈現： {{no1}} </h3>
    <h3> 模型建立： {{no2}} </h3>
    <h3> 嵌入式應用： {{no3}} </h3>
    <h3> 資料收集： {{no3}} </h3>
    <h3> APP： {{no3}} </h3>
    <h3> YOLO： {{no3}} </h3>
</body>
</html>
